#! /usr/bin/env python
import os
bld.shlib(
	source 		= 'cpp/daoNuma.cpp',
	includes 	= '../include',
	ldflags		= "-lnuma",
	cxxflags 	= ['-Ofast', '-Wall', '-Wextra',  '-march=core-avx2', '-mavx2'],
	target 		= 'daoNuma',
	name   		= 'daoNuma',
	vnum   		= '0.0.1')

bld.shlib(
	source = 'c/dao.c',
	includes = ['../include', '/usr/local/include/', os.getenv("MILK_INSTALLDIR")+"/include"],
	#cflags = ['-Ofast', '-Wall', '-Wextra', '-Werror', '-pipe'],
	ldflags = ["-lImageStreamIO"],
	libpath = [os.getenv("MILK_INSTALLDIR")+"/lib"],
	cflags = ['-Ofast', '-Wall', '-Wextra', '-pipe', '-fdiagnostics-color=auto', '-fstack-protector', '-g'],
	target = 'dao',
	name   = 'dao',
	vnum   = '0.0.1')