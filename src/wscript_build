#! /usr/bin/env python

bld.shlib(
	source 		= 'cpp/daoNuma.cpp',
	includes 	= '../include',
	ldflags		= "-lnuma",
	cxxflags 	= ['-Ofast', '-Wall', '-Wextra',  '-march=core-avx2', '-mavx2'],
	target 		= 'daoNuma',
	name   		= 'daoNuma',
	vnum   		= '0.0.1')

bld.shlib(
	source = 'c/dao.c',
	includes = '../include',
	#cflags = ['-Ofast', '-Wall', '-Wextra', '-Werror', '-pipe'],
	cflags = ['-Ofast', '-Wall', '-Wextra', '-pipe', '-fdiagnostics-color=auto', '-fstack-protector'],
	target = 'dao',
	name   = 'dao',
	vnum   = '0.0.1')



bld.shlib(
	source 		= 'cpp/daoLog2.cpp',
	includes 	= '../include',
	ldflags		= "",
	cxxflags 	= ['-Ofast', '-Wall', '-Wextra'],
	target 		= 'daoLog',
	name   		= 'daoLog',
	use			= 'daoProto',
	vnum   		= '0.0.1')

bld.shlib(
	source 		= 'cpp/daoLog2_wrapper.cpp',
	includes 	= '../include',
	ldflags		= "",
	cxxflags 	= ['-Ofast', '-Wall', '-Wextra'],
	target 		= 'daoLogWrap',
	name   		= 'daoLogWrap',
	use			= 'daoLog',
	vnum   		= '0.0.1')